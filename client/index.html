<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>CodeSignal Linear Algebra Simulator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./bespoke.css" />
  <link rel="stylesheet" href="./linear-algebra.css" />
</head>
<body class="bespoke">
  <!-- Navigation Header -->
  <header class="header">
    <h1>CodeSignal Linear Algebra Simulator</h1>
    <!-- APP_SPECIFIC_HEADER_CONTENT -->
    <div class="spacer"></div>
    <div id="status" class="status">Ready</div>
    <button id="btn-help" class="as-button ghost">Help</button>
  </header>

  <!-- Main Application Content -->
  <main class="main-container">
    <!-- Left Sidebar: Control Panel -->
    <aside class="sidebar">
      <div class="sidebar-section">
        <div class="section-header">
          <h2>Vectors</h2>
          <select id="coord-mode" class="coord-select">
            <option value="cartesian">Cartesian</option>
            <option value="polar">Polar</option>
          </select>
          <button id="canvas-reset" class="btn-secondary btn-small">Clear </button>
        </div>
        <!-- Vector 1 -->
        <div class="vector-control" id="vector1-control">
          <h3>Vector 1 <span class="vector-label v1-color">v₁</span></h3>
          <div class="vector-info">
            <div class="info-row">
              <span class="label">Coordinates:</span>
              <span id="v1-coords" class="value">Not created</span>
            </div>
            <div class="info-row">
              <span class="label">Magnitude:</span>
              <span id="v1-magnitude" class="value">—</span>
            </div>
          </div>
          <!-- Reflection Control -->
          <div class="reflection-control" data-operation-group="reflection">
            <select id="reflect-type-v1" class="reflect-select">
              <option value="x-axis">X-axis</option>
              <option value="y-axis">Y-axis</option>
              <option value="diagonal">Diagonal (y=x)</option>
            </select>
            <button id="op-reflect-v1" class="btn-primary btn-reflect" disabled>Reflect</button>
          </div>
        </div>

        <!-- Vector 2 -->
        <div class="vector-control" id="vector2-control">
          <h3>Vector 2 <span class="vector-label v2-color">v₂</span></h3>
          <div class="vector-info">
            <div class="info-row">
              <span class="label">Coordinates:</span>
              <span id="v2-coords" class="value">Not created</span>
            </div>
            <div class="info-row">
              <span class="label">Magnitude:</span>
              <span id="v2-magnitude" class="value">—</span>
            </div>
          </div>
          <!-- Reflection Control -->
          <div class="reflection-control" data-operation-group="reflection">
            <select id="reflect-type-v2" class="reflect-select">
              <option value="x-axis">X-axis</option>
              <option value="y-axis">Y-axis</option>
              <option value="diagonal">Diagonal (y=x)</option>
            </select>
            <button id="op-reflect-v2" class="btn-primary btn-reflect" disabled>Reflect</button>
          </div>
        </div>
      </div>

      <!-- Operations Section -->
      <div class="sidebar-section">
        <h2>Operations</h2>

        <div class="operation-group" data-operation-group="addition">
          <button id="op-add" class="btn-primary" disabled>Add v₁ + v₂</button>
          <button id="op-subtract" class="btn-primary" disabled>Subtract v₁ - v₂</button>
        </div>

        <div class="operation-group" data-operation-group="scalarMultiplication">
          <div class="scalar-control">
            <input type="number" id="scalar-input" value="2" step="0.1" />
            <button id="op-scale-v1" class="btn-primary" disabled>Scale v₁</button>
            <button id="op-scale-v2" class="btn-primary" disabled>Scale v₂</button>
          </div>
        </div>

        <div class="operation-group" data-operation-group="dotProduct">
          <button id="op-dot" class="btn-primary" disabled>Dot Product v₁ · v₂</button>
        </div>

        <div class="operation-group" data-operation-group="projectionAngle">
          <button id="op-project" class="btn-primary" disabled>Project v₁ onto v₂</button>
          <button id="op-angle" class="btn-primary" disabled>Angle Between v₁ & v₂</button>
        </div>

        <div class="operation-group" data-operation-group="normalization">
          <div class="operation-label">
            <span>Normalization</span>
          </div>
          <button id="op-normalize-v1" class="btn-primary" disabled>Normalize v₁</button>
          <button id="op-normalize-v2" class="btn-primary" disabled>Normalize v₂</button>
        </div>

        <div class="operation-group" data-operation-group="perpendicular">
          <div class="operation-label">
            <span>Perpendicular</span>
          </div> 
          <button id="op-perp-v1" class="btn-primary" disabled>Perpendicular to v₁</button>
          <button id="op-perp-v2" class="btn-primary" disabled>Perpendicular to v₂</button>
        </div>

        <div class="operation-group" data-operation-group="linearCombination">
          <div class="operation-label">
            <span>Linear Combination</span>
          </div>
          <div class="linear-combo-control">
            <div class="combo-inputs">
              <div class="combo-input-group">
                <label for="lc-scalar-a" class="combo-label">a</label>
                <input type="number" id="lc-scalar-a" value="1" step="0.1" />
              </div>
              <span class="combo-operator">v₁ +</span>
              <div class="combo-input-group">
                <label for="lc-scalar-b" class="combo-label">b</label>
                <input type="number" id="lc-scalar-b" value="1" step="0.1" />
              </div>
              <span class="combo-operator">v₂</span>
            </div>
            <button id="op-linear-combo" class="btn-primary" disabled>Calculate av₁ + bv₂</button>
          </div>
        </div>
      </div>

      <!-- Results Section -->
      <div class="sidebar-section">
        <h2>Results</h2>
        <div id="results-display" class="results-display">
          <p class="hint">Perform an operation to see results</p>
        </div>
      </div>
    </aside>

    <!-- Canvas: Cartesian Plane -->
    <div class="canvas-container">
      <canvas id="grid-canvas"></canvas>
    </div>
  </main>

  <!-- Help Modal (automatically managed by help-modal.js) -->
  <!-- The modal structure is created dynamically by the JavaScript -->

  <!-- Core Scripts -->
  <script src="./help-modal.js"></script>
  <script src="./app.js"></script>
  <script src="./logger.js"></script>
  <script src="./linear-algebra.js"></script>

  <script>
    // Your app-specific initialization code goes here
  </script>
</body>
</html>
